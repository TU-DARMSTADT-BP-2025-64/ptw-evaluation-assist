{"version":3,"file":"repository-DsW9d6WW.js","sources":["../../../.svelte-kit/adapter-node/chunks/repository.js"],"sourcesContent":["import { a as ProductViewModel } from \"./product.model.js\";\nimport bcrypt from \"bcrypt\";\nimport \"better-sqlite3\";\nimport \"env-paths\";\nimport dotenv from \"dotenv\";\ndotenv.config();\nclass Repository {\n  constructor(databaseClient, afterInitActions = []) {\n    this.databaseClient = databaseClient;\n    console.log(\"Repository constructor\", databaseClient);\n    if (!this.databaseClient.databaseExists()) {\n      this.init();\n      afterInitActions.forEach((action) => action(this));\n    }\n  }\n  static Instance;\n  init() {\n    console.log(\"Initializing database\");\n    const db = this.databaseClient.createDatabase();\n    db.pragma(\"foreign_keys = ON\");\n    this._initTables();\n    this._initAdminUser();\n  }\n  getProducts() {\n    const database = this.databaseClient.getDatabase();\n    const products = database.prepare(\"SELECT * FROM products\").all();\n    return products.map((product) => ProductViewModel.fromDatabaseModel(product)).filter((product) => product !== null);\n  }\n  getProduct(id) {\n    console.log(\"getProduct\", id);\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"SELECT * FROM products WHERE id = ?\");\n    const product = statement.get(id);\n    return ProductViewModel.fromDatabaseModel(product);\n  }\n  addProduct(product) {\n    const database = this.databaseClient.getDatabase();\n    const databaseModel = ProductViewModel.toDatabaseModel(product);\n    const statement = database.prepare(\n      \"INSERT INTO products (id, name, createdAt) VALUES (?, ?, ?)\"\n    );\n    statement.run(databaseModel.id, databaseModel.name, databaseModel.createdAt);\n    return product;\n  }\n  updateProduct(product) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"UPDATE products SET name = ?, createdAt = ? WHERE id = ?\");\n    const databaseModel = ProductViewModel.toDatabaseModel(product);\n    statement.run(databaseModel.name, databaseModel.createdAt, databaseModel.id);\n    return product;\n  }\n  deleteProduct(id) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM products WHERE id = ?\");\n    statement.run(id);\n    return true;\n  }\n  getAssemblyGroups(productId) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"SELECT * FROM assembly_groups WHERE productId = ?\");\n    const assemblyGroups = statement.all(productId);\n    return assemblyGroups;\n  }\n  addAssemblyGroup(assemblyGroup) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO assembly_groups (id, productId, parentId, name) VALUES (?, ?, ?, ?)\"\n    );\n    statement.run(\n      assemblyGroup.id,\n      assemblyGroup.productId,\n      assemblyGroup.parentId,\n      assemblyGroup.name\n    );\n    return assemblyGroup;\n  }\n  updateAssemblyGroup(assemblyGroup) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"UPDATE assembly_groups SET productId = ?, parentId = ?, name = ? WHERE id = ?\"\n    );\n    statement.run(\n      assemblyGroup.productId,\n      assemblyGroup.parentId,\n      assemblyGroup.name,\n      assemblyGroup.id\n    );\n    return assemblyGroup;\n  }\n  deleteAssemblyGroup(id) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM assembly_groups WHERE id = ?\");\n    statement.run(id);\n    return true;\n  }\n  getAssemblyComponents(productId) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"SELECT * FROM assembly_components WHERE productId = ?\");\n    const assemblyComponents = statement.all(productId);\n    return assemblyComponents;\n  }\n  addAssemblyComponent(assemblyComponent) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO assembly_components (id, productId, assemblyGroupId, name, machineElementCategory, machineElement) VALUES (?, ?, ?, ?, ?, ?)\"\n    );\n    statement.run(\n      assemblyComponent.id,\n      assemblyComponent.productId,\n      assemblyComponent.assemblyGroupId,\n      assemblyComponent.name,\n      assemblyComponent.machineElementCategory,\n      assemblyComponent.machineElement\n    );\n    return assemblyComponent;\n  }\n  updateAssemblyComponent(assemblyComponent) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"UPDATE assembly_components SET productId = ?, assemblyGroupId = ?, name = ?, machineElementCategory = ?, machineElement = ? WHERE id = ?\"\n    );\n    statement.run(\n      assemblyComponent.productId,\n      assemblyComponent.assemblyGroupId,\n      assemblyComponent.name,\n      assemblyComponent.machineElementCategory,\n      assemblyComponent.machineElement,\n      assemblyComponent.id\n    );\n    return assemblyComponent;\n  }\n  deleteAssemblyComponent(id) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM assembly_components WHERE id = ?\");\n    statement.run(id);\n    return true;\n  }\n  getWearCriteria(productId) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"SELECT * FROM wear_criteria WHERE productId = ?\");\n    const wearCriteria = statement.all(productId);\n    return wearCriteria;\n  }\n  addWearCriterion(wearCriterion) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO wear_criteria (id, productId, componentId, label) VALUES (?, ?, ?, ?)\"\n    );\n    statement.run(\n      wearCriterion.id,\n      wearCriterion.productId,\n      wearCriterion.componentId,\n      wearCriterion.label\n    );\n    return wearCriterion;\n  }\n  updateWearCriterion(wearCriterion) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"UPDATE wear_criteria SET productId = ?, componentId = ?, question = ? WHERE id = ?\"\n    );\n    statement.run(\n      wearCriterion.productId,\n      wearCriterion.componentId,\n      wearCriterion.label,\n      wearCriterion.id\n    );\n    return wearCriterion;\n  }\n  deleteWearCriterion(id) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM wear_criteria WHERE id = ?\");\n    statement.run(id);\n    return true;\n  }\n  getWearThresholds(productId) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"SELECT * FROM wear_thresholds WHERE productId = ?\");\n    const wearThresholds = statement.all(productId);\n    return wearThresholds;\n  }\n  addWearThreshold(wearThreshold) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO wear_thresholds (id, productId, criterionId, label, type, fixStrategy, measures, image) VALUES (?, ?, ?, ?, ?, ?, ?, ?)\"\n    );\n    statement.run(\n      wearThreshold.id,\n      wearThreshold.productId,\n      wearThreshold.criterionId,\n      wearThreshold.label,\n      wearThreshold.type,\n      wearThreshold.fixStrategy,\n      wearThreshold.measures,\n      wearThreshold.image\n    );\n    return wearThreshold;\n  }\n  updateWearThreshold(wearThreshold) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"UPDATE wear_thresholds SET productId = ?, criterionId = ?, label = ?, type = ?, fixStrategy = ?, measures = ?, image = ? WHERE id = ?\"\n    );\n    statement.run(\n      wearThreshold.productId,\n      wearThreshold.criterionId,\n      wearThreshold.label,\n      wearThreshold.type,\n      wearThreshold.fixStrategy,\n      wearThreshold.measures,\n      wearThreshold.image,\n      wearThreshold.id\n    );\n    return wearThreshold;\n  }\n  deleteWearThreshold(id) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM wear_thresholds WHERE id = ?\");\n    statement.run(id);\n    return true;\n  }\n  getThresholdStrategies(productId) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"SELECT * FROM threshold_strategies WHERE productId = ?\");\n    const thresholdStrategies = statement.all(productId);\n    return thresholdStrategies;\n  }\n  addThresholdStrategy(thresholdStrategy) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO threshold_strategies (id, productId, name, priority) VALUES (?, ?, ?, ?)\"\n    );\n    statement.run(\n      thresholdStrategy.id,\n      thresholdStrategy.productId,\n      thresholdStrategy.name,\n      thresholdStrategy.priority\n    );\n    return thresholdStrategy;\n  }\n  deleteThresholdStrategy(id) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM threshold_strategies WHERE id = ?\");\n    statement.run(id);\n    return true;\n  }\n  getMachineElementCategories() {\n    const database = this.databaseClient.getDatabase();\n    const machineElementCategories = database.prepare(\"SELECT * FROM machine_element_categories\").all();\n    return machineElementCategories;\n  }\n  addMachineElementCategory(machineElementCategory) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO machine_element_categories (id, name) VALUES (?, ?)\"\n    );\n    statement.run(machineElementCategory.id, machineElementCategory.name);\n    return machineElementCategory;\n  }\n  deleteMachineElementCategories() {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM machine_element_categories\");\n    statement.run();\n    return true;\n  }\n  getMachineElements() {\n    const database = this.databaseClient.getDatabase();\n    const machineElements = database.prepare(\"SELECT * FROM machine_elements\").all();\n    return machineElements;\n  }\n  addMachineElement(machineElement) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO machine_elements (id, name, machineElementCategoryId) VALUES (?, ?, ?)\"\n    );\n    statement.run(machineElement.id, machineElement.name, machineElement.machineElementCategoryId);\n    return machineElement;\n  }\n  deleteMachineElements() {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM machine_elements\");\n    statement.run();\n    return true;\n  }\n  getMachineElementCriteria() {\n    const database = this.databaseClient.getDatabase();\n    const machineElementCriteria = database.prepare(\"SELECT * FROM machine_element_criteria\").all();\n    return machineElementCriteria;\n  }\n  addMachineElementCriteria(machineElementCriteria) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\n      \"INSERT INTO machine_element_criteria (id, name, machineElementId) VALUES (?, ?, ?)\"\n    );\n    statement.run(machineElementCriteria.id, machineElementCriteria.name, machineElementCriteria.machineElementId);\n    return machineElementCriteria;\n  }\n  deleteMachineElementCriteria() {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"DELETE FROM machine_element_criteria\");\n    statement.run();\n    return true;\n  }\n  async userExists(username, password) {\n    const database = this.databaseClient.getDatabase();\n    const statement = database.prepare(\"SELECT * FROM users WHERE username = ?\");\n    const user = statement.get(username);\n    if (user) {\n      const passwordMatches = await bcrypt.compare(password, user.password);\n      console.log(\"Passwort korrekt:\", passwordMatches);\n      return passwordMatches;\n    }\n    return false;\n  }\n  _initTables() {\n    const db = this.databaseClient.getDatabase();\n    db.prepare(\n      `CREATE TABLE products (\n\t\t\t\t\t\tid TEXT PRIMARY KEY, \n\t\t\t\t\t\tname TEXT NOT NULL,\n\t\t\t\t\t\tcreatedAt INTEGER NOT NULL\n\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE assembly_groups (\n\t\t\t\t\t\tid TEXT PRIMARY KEY, \n\t\t\t\t\t\tproductId TEXT NOT NULL, \n\t\t\t\t\t\tparentId TEXT, \n\t\t\t\t\t\tname TEXT NOT NULL, \n\t\t\t\t\t\tFOREIGN KEY(productId) REFERENCES products(id) ON DELETE CASCADE, \n\t\t\t\t\t\tFOREIGN KEY(parentId) REFERENCES assembly_groups(id)\n\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE assembly_components (\n\t\t\t\t\t\tid TEXT PRIMARY KEY, \n\t\t\t\t\t\tproductId TEXT NOT NULL, \n\t\t\t\t\t\tassemblyGroupId TEXT NOT NULL, \n\t\t\t\t\t\tname TEXT NOT NULL, \n\t\t\t\t\t\tmachineElementCategory TEXT, \n\t\t\t\t\t\tmachineElement TEXT, \n\t\t\t\t\t\tFOREIGN KEY(productId) REFERENCES products(id) ON DELETE CASCADE, \n\t\t\t\t\t\tFOREIGN KEY(assemblyGroupId) REFERENCES assembly_groups(id)\n\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE wear_criteria (\n\t\t\t\t\t\tid TEXT PRIMARY KEY, \n\t\t\t\t\t\tproductId TEXT NOT NULL, \n\t\t\t\t\t\tcomponentId TEXT NOT NULL, \n\t\t\t\t\t\tlabel TEXT NOT NULL, \n\t\t\t\t\t\tFOREIGN KEY(productId) REFERENCES products(id) ON DELETE CASCADE, \n\t\t\t\t\t\tFOREIGN KEY(componentId) REFERENCES assembly_components(id)\n\t\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE wear_thresholds (\n\t\t\t\t\t\tid TEXT PRIMARY KEY, \n\t\t\t\t\t\tproductId TEXT NOT NULL,\n\t\t\t\t\t\tcriterionId TEXT NOT NULL, \n\t\t\t\t\t\tlabel TEXT NOT NULL, \n\t\t\t\t\t\ttype TEXT NOT NULL, \n\t\t\t\t\t\tfixStrategy TEXT,\n\t\t\t\t\t\tmeasures TEXT,\n\t\t\t\t\t\timage TEXT,\n\t\t\t\t\t\tFOREIGN KEY(productId) REFERENCES products(id) ON DELETE CASCADE, \n\t\t\t\t\t\tFOREIGN KEY(criterionId) REFERENCES wear_criteria(id)\n\t\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE threshold_strategies (\n\t\t\t\tid TEXT PRIMARY KEY,\n\t\t\t\tproductId TEXT NOT NULL,\n\t\t\t\tname TEXT NOT NULL,\n\t\t\t\tpriority INTEGER NOT NULL,\n\t\t\t\tFOREIGN KEY(productId) REFERENCES products(id) ON DELETE CASCADE\n\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE machine_element_categories (\n\t\t\t\tid TEXT PRIMARY KEY,\n\t\t\t\tname TEXT NOT NULL\n\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE machine_elements (\n\t\t\t\tid TEXT PRIMARY KEY,\n\t\t\t\tname TEXT NOT NULL,\n\t\t\t\tmachineElementCategoryId TEXT NOT NULL,\n\t\t\t\tFOREIGN KEY(machineElementCategoryId) REFERENCES machine_element_categories(id)\n\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE machine_element_criteria (\n\t\t\t\tid TEXT PRIMARY KEY,\n\t\t\t\tname TEXT NOT NULL,\n\t\t\t\tmachineElementId TEXT NOT NULL,\n\t\t\t\tFOREIGN KEY(machineElementId) REFERENCES machine_elements(id)\n\t\t\t\t)`\n    ).run();\n    db.prepare(\n      `CREATE TABLE users (\n\t\t\t\t\t\tid INTEGER PRIMARY KEY AUTOINCREMENT, \n\t\t\t\t\t\tusername TEXT NOT NULL, \n\t\t\t\t\t\tpassword TEXT NOT NULL\n\t\t\t\t)`\n    ).run();\n  }\n  async _initAdminUser() {\n    const db = this.databaseClient.getDatabase();\n    const statementCheck = db.prepare(\"SELECT * FROM users WHERE username = ?\");\n    const adminUser = statementCheck.get(\"admin\");\n    if (adminUser) {\n      console.log(\"Admin-Benutzer existiert bereits.\");\n      return;\n    }\n    const password = process.env.DEV_ADMIN_PASSWORD;\n    console.log(\"Initialisiere Admin-Benutzer: \" + password);\n    if (!password) {\n      throw new Error(\"DEV_ADMIN_PASSWORD ist nicht gesetzt! Setze es in der .env-Datei.\");\n    }\n    const saltRounds = 10;\n    const passwordHash = await bcrypt.hash(password, saltRounds);\n    console.log(\"Initiales Admin-Passwort wurde erfolgreich erstellt.\");\n    const statementInsert = db.prepare(\"INSERT INTO users (username, password) VALUES (?, ?)\");\n    statementInsert.run(\"admin\", passwordHash);\n    console.log(\"Admin-Benutzer wurde erfolgreich erstellt.\");\n  }\n  async getAdmin() {\n    const db = this.databaseClient.getDatabase();\n    const statement = db.prepare(\"SELECT * FROM users WHERE username = ?\");\n    return statement.get(\"admin\");\n  }\n  async updateAdminPassword(newPassword) {\n    const db = this.databaseClient.getDatabase();\n    const statement = db.prepare(\"UPDATE users SET password = ? WHERE username = ?\");\n    const result = statement.run(newPassword, \"admin\");\n    if (result.changes === 1) {\n      console.log(\"Passwort erfolgreich aktualisiert.\");\n    } else {\n      console.log(\"Fehler beim Aktualisieren des Passworts.\");\n    }\n    return result.changes === 1;\n  }\n}\nexport {\n  Repository as R\n};\n"],"names":[],"mappings":";;;;;;AAKA,MAAM,CAAC,MAAM,EAAE;AACf,MAAM,UAAU,CAAC;AACjB,EAAE,WAAW,CAAC,cAAc,EAAE,gBAAgB,GAAG,EAAE,EAAE;AACrD,IAAI,IAAI,CAAC,cAAc,GAAG,cAAc;AACxC,IAAI,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,cAAc,CAAC;AACzD,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,EAAE;AAC/C,MAAM,IAAI,CAAC,IAAI,EAAE;AACjB,MAAM,gBAAgB,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC;AACxD;AACA;AACA,EAAE,OAAO,QAAQ;AACjB,EAAE,IAAI,GAAG;AACT,IAAI,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC;AACxC,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE;AACnD,IAAI,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC;AAClC,IAAI,IAAI,CAAC,WAAW,EAAE;AACtB,IAAI,IAAI,CAAC,cAAc,EAAE;AACzB;AACA,EAAE,WAAW,GAAG;AAChB,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC,GAAG,EAAE;AACrE,IAAI,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,KAAK,gBAAgB,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,KAAK,OAAO,KAAK,IAAI,CAAC;AACvH;AACA,EAAE,UAAU,CAAC,EAAE,EAAE;AACjB,IAAI,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,CAAC;AACjC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,qCAAqC,CAAC;AAC7E,IAAI,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;AACrC,IAAI,OAAO,gBAAgB,CAAC,iBAAiB,CAAC,OAAO,CAAC;AACtD;AACA,EAAE,UAAU,CAAC,OAAO,EAAE;AACtB,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,aAAa,GAAG,gBAAgB,CAAC,eAAe,CAAC,OAAO,CAAC;AACnE,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,EAAE,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,SAAS,CAAC;AAChF,IAAI,OAAO,OAAO;AAClB;AACA,EAAE,aAAa,CAAC,OAAO,EAAE;AACzB,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,0DAA0D,CAAC;AAClG,IAAI,MAAM,aAAa,GAAG,gBAAgB,CAAC,eAAe,CAAC,OAAO,CAAC;AACnE,IAAI,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,aAAa,CAAC,SAAS,EAAE,aAAa,CAAC,EAAE,CAAC;AAChF,IAAI,OAAO,OAAO;AAClB;AACA,EAAE,aAAa,CAAC,EAAE,EAAE;AACpB,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,mCAAmC,CAAC;AAC3E,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;AACrB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,iBAAiB,CAAC,SAAS,EAAE;AAC/B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,mDAAmD,CAAC;AAC3F,IAAI,MAAM,cAAc,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;AACnD,IAAI,OAAO,cAAc;AACzB;AACA,EAAE,gBAAgB,CAAC,aAAa,EAAE;AAClC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,aAAa,CAAC,EAAE;AACtB,MAAM,aAAa,CAAC,SAAS;AAC7B,MAAM,aAAa,CAAC,QAAQ;AAC5B,MAAM,aAAa,CAAC;AACpB,KAAK;AACL,IAAI,OAAO,aAAa;AACxB;AACA,EAAE,mBAAmB,CAAC,aAAa,EAAE;AACrC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,aAAa,CAAC,SAAS;AAC7B,MAAM,aAAa,CAAC,QAAQ;AAC5B,MAAM,aAAa,CAAC,IAAI;AACxB,MAAM,aAAa,CAAC;AACpB,KAAK;AACL,IAAI,OAAO,aAAa;AACxB;AACA,EAAE,mBAAmB,CAAC,EAAE,EAAE;AAC1B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,0CAA0C,CAAC;AAClF,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;AACrB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,qBAAqB,CAAC,SAAS,EAAE;AACnC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,uDAAuD,CAAC;AAC/F,IAAI,MAAM,kBAAkB,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;AACvD,IAAI,OAAO,kBAAkB;AAC7B;AACA,EAAE,oBAAoB,CAAC,iBAAiB,EAAE;AAC1C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,iBAAiB,CAAC,EAAE;AAC1B,MAAM,iBAAiB,CAAC,SAAS;AACjC,MAAM,iBAAiB,CAAC,eAAe;AACvC,MAAM,iBAAiB,CAAC,IAAI;AAC5B,MAAM,iBAAiB,CAAC,sBAAsB;AAC9C,MAAM,iBAAiB,CAAC;AACxB,KAAK;AACL,IAAI,OAAO,iBAAiB;AAC5B;AACA,EAAE,uBAAuB,CAAC,iBAAiB,EAAE;AAC7C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,iBAAiB,CAAC,SAAS;AACjC,MAAM,iBAAiB,CAAC,eAAe;AACvC,MAAM,iBAAiB,CAAC,IAAI;AAC5B,MAAM,iBAAiB,CAAC,sBAAsB;AAC9C,MAAM,iBAAiB,CAAC,cAAc;AACtC,MAAM,iBAAiB,CAAC;AACxB,KAAK;AACL,IAAI,OAAO,iBAAiB;AAC5B;AACA,EAAE,uBAAuB,CAAC,EAAE,EAAE;AAC9B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,8CAA8C,CAAC;AACtF,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;AACrB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,eAAe,CAAC,SAAS,EAAE;AAC7B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,iDAAiD,CAAC;AACzF,IAAI,MAAM,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;AACjD,IAAI,OAAO,YAAY;AACvB;AACA,EAAE,gBAAgB,CAAC,aAAa,EAAE;AAClC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,aAAa,CAAC,EAAE;AACtB,MAAM,aAAa,CAAC,SAAS;AAC7B,MAAM,aAAa,CAAC,WAAW;AAC/B,MAAM,aAAa,CAAC;AACpB,KAAK;AACL,IAAI,OAAO,aAAa;AACxB;AACA,EAAE,mBAAmB,CAAC,aAAa,EAAE;AACrC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,aAAa,CAAC,SAAS;AAC7B,MAAM,aAAa,CAAC,WAAW;AAC/B,MAAM,aAAa,CAAC,KAAK;AACzB,MAAM,aAAa,CAAC;AACpB,KAAK;AACL,IAAI,OAAO,aAAa;AACxB;AACA,EAAE,mBAAmB,CAAC,EAAE,EAAE;AAC1B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,wCAAwC,CAAC;AAChF,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;AACrB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,iBAAiB,CAAC,SAAS,EAAE;AAC/B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,mDAAmD,CAAC;AAC3F,IAAI,MAAM,cAAc,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;AACnD,IAAI,OAAO,cAAc;AACzB;AACA,EAAE,gBAAgB,CAAC,aAAa,EAAE;AAClC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,aAAa,CAAC,EAAE;AACtB,MAAM,aAAa,CAAC,SAAS;AAC7B,MAAM,aAAa,CAAC,WAAW;AAC/B,MAAM,aAAa,CAAC,KAAK;AACzB,MAAM,aAAa,CAAC,IAAI;AACxB,MAAM,aAAa,CAAC,WAAW;AAC/B,MAAM,aAAa,CAAC,QAAQ;AAC5B,MAAM,aAAa,CAAC;AACpB,KAAK;AACL,IAAI,OAAO,aAAa;AACxB;AACA,EAAE,mBAAmB,CAAC,aAAa,EAAE;AACrC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,aAAa,CAAC,SAAS;AAC7B,MAAM,aAAa,CAAC,WAAW;AAC/B,MAAM,aAAa,CAAC,KAAK;AACzB,MAAM,aAAa,CAAC,IAAI;AACxB,MAAM,aAAa,CAAC,WAAW;AAC/B,MAAM,aAAa,CAAC,QAAQ;AAC5B,MAAM,aAAa,CAAC,KAAK;AACzB,MAAM,aAAa,CAAC;AACpB,KAAK;AACL,IAAI,OAAO,aAAa;AACxB;AACA,EAAE,mBAAmB,CAAC,EAAE,EAAE;AAC1B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,0CAA0C,CAAC;AAClF,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;AACrB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,sBAAsB,CAAC,SAAS,EAAE;AACpC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,wDAAwD,CAAC;AAChG,IAAI,MAAM,mBAAmB,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;AACxD,IAAI,OAAO,mBAAmB;AAC9B;AACA,EAAE,oBAAoB,CAAC,iBAAiB,EAAE;AAC1C,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG;AACjB,MAAM,iBAAiB,CAAC,EAAE;AAC1B,MAAM,iBAAiB,CAAC,SAAS;AACjC,MAAM,iBAAiB,CAAC,IAAI;AAC5B,MAAM,iBAAiB,CAAC;AACxB,KAAK;AACL,IAAI,OAAO,iBAAiB;AAC5B;AACA,EAAE,uBAAuB,CAAC,EAAE,EAAE;AAC9B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,+CAA+C,CAAC;AACvF,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;AACrB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,2BAA2B,GAAG;AAChC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,wBAAwB,GAAG,QAAQ,CAAC,OAAO,CAAC,0CAA0C,CAAC,CAAC,GAAG,EAAE;AACvG,IAAI,OAAO,wBAAwB;AACnC;AACA,EAAE,yBAAyB,CAAC,sBAAsB,EAAE;AACpD,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,EAAE,EAAE,sBAAsB,CAAC,IAAI,CAAC;AACzE,IAAI,OAAO,sBAAsB;AACjC;AACA,EAAE,8BAA8B,GAAG;AACnC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,wCAAwC,CAAC;AAChF,IAAI,SAAS,CAAC,GAAG,EAAE;AACnB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,kBAAkB,GAAG;AACvB,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,eAAe,GAAG,QAAQ,CAAC,OAAO,CAAC,gCAAgC,CAAC,CAAC,GAAG,EAAE;AACpF,IAAI,OAAO,eAAe;AAC1B;AACA,EAAE,iBAAiB,CAAC,cAAc,EAAE;AACpC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,EAAE,cAAc,CAAC,IAAI,EAAE,cAAc,CAAC,wBAAwB,CAAC;AAClG,IAAI,OAAO,cAAc;AACzB;AACA,EAAE,qBAAqB,GAAG;AAC1B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,8BAA8B,CAAC;AACtE,IAAI,SAAS,CAAC,GAAG,EAAE;AACnB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,yBAAyB,GAAG;AAC9B,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,sBAAsB,GAAG,QAAQ,CAAC,OAAO,CAAC,wCAAwC,CAAC,CAAC,GAAG,EAAE;AACnG,IAAI,OAAO,sBAAsB;AACjC;AACA,EAAE,yBAAyB,CAAC,sBAAsB,EAAE;AACpD,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO;AACtC,MAAM;AACN,KAAK;AACL,IAAI,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,EAAE,EAAE,sBAAsB,CAAC,IAAI,EAAE,sBAAsB,CAAC,gBAAgB,CAAC;AAClH,IAAI,OAAO,sBAAsB;AACjC;AACA,EAAE,4BAA4B,GAAG;AACjC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,sCAAsC,CAAC;AAC9E,IAAI,SAAS,CAAC,GAAG,EAAE;AACnB,IAAI,OAAO,IAAI;AACf;AACA,EAAE,MAAM,UAAU,CAAC,QAAQ,EAAE,QAAQ,EAAE;AACvC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AACtD,IAAI,MAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,wCAAwC,CAAC;AAChF,IAAI,MAAM,IAAI,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;AACxC,IAAI,IAAI,IAAI,EAAE;AACd,MAAM,MAAM,eAAe,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC;AAC3E,MAAM,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,eAAe,CAAC;AACvD,MAAM,OAAO,eAAe;AAC5B;AACA,IAAI,OAAO,KAAK;AAChB;AACA,EAAE,WAAW,GAAG;AAChB,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AAChD,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA,KAAK;AACL,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA,KAAK;AACL,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK,CAAC,GAAG,EAAE;AACX,IAAI,EAAE,CAAC,OAAO;AACd,MAAM,CAAC;AACP;AACA;AACA;AACA,KAAK;AACL,KAAK,CAAC,GAAG,EAAE;AACX;AACA,EAAE,MAAM,cAAc,GAAG;AACzB,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AAChD,IAAI,MAAM,cAAc,GAAG,EAAE,CAAC,OAAO,CAAC,wCAAwC,CAAC;AAC/E,IAAI,MAAM,SAAS,GAAG,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC;AACjD,IAAI,IAAI,SAAS,EAAE;AACnB,MAAM,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC;AACtD,MAAM;AACN;AACA,IAAI,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,kBAAkB;AACnD,IAAI,OAAO,CAAC,GAAG,CAAC,gCAAgC,GAAG,QAAQ,CAAC;AAC5D,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,MAAM,MAAM,IAAI,KAAK,CAAC,mEAAmE,CAAC;AAC1F;AACA,IAAI,MAAM,UAAU,GAAG,EAAE;AACzB,IAAI,MAAM,YAAY,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,CAAC;AAChE,IAAI,OAAO,CAAC,GAAG,CAAC,sDAAsD,CAAC;AACvE,IAAI,MAAM,eAAe,GAAG,EAAE,CAAC,OAAO,CAAC,sDAAsD,CAAC;AAC9F,IAAI,eAAe,CAAC,GAAG,CAAC,OAAO,EAAE,YAAY,CAAC;AAC9C,IAAI,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC;AAC7D;AACA,EAAE,MAAM,QAAQ,GAAG;AACnB,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AAChD,IAAI,MAAM,SAAS,GAAG,EAAE,CAAC,OAAO,CAAC,wCAAwC,CAAC;AAC1E,IAAI,OAAO,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC;AACjC;AACA,EAAE,MAAM,mBAAmB,CAAC,WAAW,EAAE;AACzC,IAAI,MAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;AAChD,IAAI,MAAM,SAAS,GAAG,EAAE,CAAC,OAAO,CAAC,kDAAkD,CAAC;AACpF,IAAI,MAAM,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,WAAW,EAAE,OAAO,CAAC;AACtD,IAAI,IAAI,MAAM,CAAC,OAAO,KAAK,CAAC,EAAE;AAC9B,MAAM,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC;AACvD,KAAK,MAAM;AACX,MAAM,OAAO,CAAC,GAAG,CAAC,0CAA0C,CAAC;AAC7D;AACA,IAAI,OAAO,MAAM,CAAC,OAAO,KAAK,CAAC;AAC/B;AACA;;;;"}