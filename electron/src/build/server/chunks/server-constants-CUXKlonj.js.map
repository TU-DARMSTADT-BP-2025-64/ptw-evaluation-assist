{"version":3,"file":"server-constants-CUXKlonj.js","sources":["../../../.svelte-kit/adapter-node/chunks/server-constants.js"],"sourcesContent":["import Database from \"better-sqlite3\";\nimport envPaths from \"env-paths\";\nimport fs from \"fs\";\nclass DatabaseClient {\n  constructor(databaseName) {\n    this.databaseName = databaseName;\n  }\n  database;\n  createDatabase() {\n    this._createDatabaseDirectory();\n    return this.getDatabase();\n  }\n  getDatabase() {\n    if (!this.database || !this.database.open) {\n      const dbPath = this._getDatabasePath();\n      console.log(\"Opening database at\", dbPath);\n      this.database = new Database(dbPath, { verbose: console.log });\n    }\n    return this.database;\n  }\n  databaseExists() {\n    return fs.existsSync(this._getDatabasePath());\n  }\n  _createDatabaseDirectory() {\n    const paths = envPaths(\"ptw-evaluation-assist\");\n    fs.mkdirSync(paths.data, { recursive: true });\n  }\n  _getDatabasePath() {\n    const paths = envPaths(\"ptw-evaluation-assist\");\n    return paths.data + \"/\" + this.databaseName;\n  }\n}\nclass ServerConstants {\n  static DATABASE_NAME = \"ptw-evaluation-assist.db\";\n  static USER_SALT = \"ptw-evaluation-assist\";\n}\nexport {\n  DatabaseClient as D,\n  ServerConstants as S\n};\n"],"names":[],"mappings":";;;;AAGA,MAAM,cAAc,CAAC;AACrB,EAAE,WAAW,CAAC,YAAY,EAAE;AAC5B,IAAI,IAAI,CAAC,YAAY,GAAG,YAAY;AACpC;AACA,EAAE,QAAQ;AACV,EAAE,cAAc,GAAG;AACnB,IAAI,IAAI,CAAC,wBAAwB,EAAE;AACnC,IAAI,OAAO,IAAI,CAAC,WAAW,EAAE;AAC7B;AACA,EAAE,WAAW,GAAG;AAChB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;AAC/C,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE;AAC5C,MAAM,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC;AAChD,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;AACpE;AACA,IAAI,OAAO,IAAI,CAAC,QAAQ;AACxB;AACA,EAAE,cAAc,GAAG;AACnB,IAAI,OAAO,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;AACjD;AACA,EAAE,wBAAwB,GAAG;AAC7B,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,uBAAuB,CAAC;AACnD,IAAI,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;AACjD;AACA,EAAE,gBAAgB,GAAG;AACrB,IAAI,MAAM,KAAK,GAAG,QAAQ,CAAC,uBAAuB,CAAC;AACnD,IAAI,OAAO,KAAK,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY;AAC/C;AACA;AACA,MAAM,eAAe,CAAC;AACtB,EAAE,OAAO,aAAa,GAAG,0BAA0B;AACnD,EAAE,OAAO,SAAS,GAAG,uBAAuB;AAC5C;;;;"}